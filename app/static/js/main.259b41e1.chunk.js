(this["webpackJsonpstampede-ui"]=this["webpackJsonpstampede-ui"]||[]).push([[0],{15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),i=n(1),r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"App",get:function(){return this._setting?this._setting:this._setting=window.appSetting}}]),e}();r._setting=void 0},16:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.INFO_NO_BUTTONS=3]="INFO_NO_BUTTONS"}(a||(a={}))},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n=setTimeout((function(){e(),clearTimeout(n)}),t)}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a,i,r,s,c,o=n(11),l=n(2),u=n(1),h=n(12),d=(n(24),n(39)),b=n(45),j=n(15),p=n(33),m=n.n(p),O=n(28),f=n(31),g=n(35),v=j.a.App.hosts.api+"/api/auth/login",x=j.a.App.hosts.api+"/api/auth/logout",y=j.a.App.hosts.api+"/api/auth/register",w=j.a.App.hosts.api+"/api/public/index",N=(a=Object(d.a)(),i=Object(b.a)(f.a),a((s=function(){function e(){var t=this;Object(l.a)(this,e),this._loggedUser=void 0,this._appProfile=void 0,this.onUserUpdated=new g.a,Object(o.a)(this,"rest",c,this),this.loadApplication=function(){return new Promise((function(e,n){m.a.get(w,{headers:Object(O.a)()}).then((function(n){t.handleAppLoaded(n),e(n.data.result)})).catch(n)}))},this.login=function(e,n){return new Promise((function(a,i){var r=new FormData;r.append("email",e),r.append("password",n),m.a.post(v,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var n=e.data,i=e.headers["access-token"];t.handleSuccessLogin(n.result,i),a(n.result)})).catch((function(e){var t,n;i(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.register=function(e,n,a,i,r){var s=new FormData;return s.append("email",e),s.append("password",i),s.append("name",n),s.append("displayName",a),s.append("phoneNumber",r),t.rest.postCommon(y,s,{"Content-Type":"application/x-www-form-urlencoded"})},this.handleSuccessLogin=function(e,n){Object(O.c)(n),t.loggedUser=e},this.handleAppLoaded=function(e){e.headers["access-token"]&&""!=e.headers["access-token"]&&t.handleSuccessLogin(e.data.user,e.headers["access-token"])},this.logout=function(){return Object(O.b)(),t.loggedUser=void 0,t.rest.postAuthorized(x,{})}}return Object(u.a)(e,[{key:"loggedIn",get:function(){return void 0!=this._loggedUser}},{key:"loggedUser",get:function(){return this._loggedUser},set:function(e){this._loggedUser=e,this.onUserUpdated.invoke(e)}},{key:"isAdmin",get:function(){var e;return this.loggedIn&&"Admin"===(null===(e=this.loggedUser)||void 0===e?void 0:e.role)}},{key:"appProfile",get:function(){return this._appProfile}}]),e}(),c=Object(h.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},i=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},r="kado-in-login-token",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json";return{"Content-Type":e,requestId:"ABCD",Authorization:"Bearer "+i(r)}},c=function(){a(r,null,0)},o=function(e){a(r,e)}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),i=n(2),r=n(5),s=n(4),c=n(3),o=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInputChange=function(t,n){if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){var a,i=t.target,r=e.state,s=i.id;if(!r)return;a="number"==i.type?i.value:"checkbox"==i.type&&i instanceof HTMLInputElement?i.checked:i.value;var c=i.name.split("."),o=r;c.forEach((function(e,t){o&&t<c.length-1&&(o=o[e]),t==c.length-1&&(o[e]=a)})),e.setState(r,(function(){if(s){var e=document.getElementById(s);e&&e.focus()}n&&n(a)}))}},e}return Object(a.a)(n)}(c.Component)},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,i=n(20),r=n(1),s=n(2),c=n(33),o=n.n(c),l=n(39),u=n(28),h=Object(l.a)()(a=Object(r.a)((function e(){var t=this;Object(s.a)(this,e),this.postAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.postCommon(e,n,Object(u.a)(a))},this.deleteAuthorized=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json";return t.deleteCommon(e,Object(u.a)(n))},this.putAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.putCommon(e,n,Object(u.a)(a))},this.postCommon=function(e,t,n){return new Promise((function(a,r){o.a.post(e,t,{headers:Object(i.a)({},n)}).then((function(e){e.data?a(e.data.result):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.putCommon=function(e,t,n){return new Promise((function(a,r){o.a.put(e,t,{headers:Object(i.a)({},n)}).then((function(e){e.data?a(e.data.result):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.deleteCommon=function(e,t){return new Promise((function(n,a){o.a.delete(e,{headers:Object(i.a)({},t)}).then((function(e){e.data?n(e.data.result):a(new Error("Invalid response data"))})).catch((function(e){var t,n;a(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.getAuthorized=function(e){return t.getCommon(e,Object(u.a)())},this.getCommon=function(e,t){return new Promise((function(n,a){o.a.get(e,{headers:Object(i.a)({},t)}).then((function(e){e.data?n(e.data.result):a(new Error("Invalid response data"))})).catch((function(e){var t,n;a(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))}})))||a},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,i=n(1),r=n(2),s=(n(48),n(39)),c=n(3),o=n.n(c),l=n(5),u=n(4),h=n(30),d=n(0),b=Object(i.a)((function e(){Object(r.a)(this,e),this.content=""})),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state=new b,a.inputRef=o.a.createRef(),a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.content)},e.defaultValue&&(a.state.content=e.defaultValue),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:this.props.message}),Object(d.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(d.jsx)("input",{ref:this.inputRef,name:"content",value:this.state.content,onChange:this.handleInputChange,className:"form-control mb-3",required:!0}),Object(d.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Ok"})]})]})}}]),n}(h.a),p=n(16),m=n(19),O=Object(s.a)()(a=Object(i.a)((function e(){var t=this;Object(r.a)(this,e),this.container=void 0,this.setContainer=function(e){t.container=e},this.showInfo=function(e,n){t.container.isShown?Object(m.a)((function(){t.showInfo(e,n)}),100):t.container.show(p.a.INFO,e,n,!0,console.info)},this.showWarning=function(e,n){t.container.isShown?Object(m.a)((function(){t.showWarning(e,n)}),100):t.container.show(p.a.WARNING,e,n,!0,console.info)},this.showError=function(e,n){t.container.isShown?Object(m.a)((function(){t.showError(e,n)}),100):t.container.show(p.a.ERROR,e,n instanceof Error?n.message:n.toString(),!0,console.error)},this.showConfirmDanger=function(e,n){return t.showConfirm(e,n,p.a.ERROR)},this.showConfirmWarning=function(e,n){return t.showConfirm(e,n,p.a.WARNING)},this.showConfirm=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a.INFO;return new Promise((function(i,r){t.container.show(a,e,n,!1,(function(e){i(!0)}),(function(e){i(!1)}))}))},this.showPrompt=function(e,n,a){return new Promise((function(i,r){t.doShowPrompt(e,n,i,a)}))},this.doShowPrompt=function(e,n,a,i){if(t.container.isShown)Object(m.a)((function(){t.doShowPrompt(e,n,a,i)}),100);else{t.container.showNoButtons(e,Object(d.jsx)(j,{message:n,onSubmit:function(e){t.dismissAlert(),a(e)},defaultValue:i}),(function(e){a(void 0)}))}},this.dismissAlert=function(){t.container.dismissAlert()},this.showContent=function(e,n){return new Promise((function(a,i){var r=Object(c.createElement)(n.type,n.props);t.container.showNoButtons(e,r,(function(e){a(!1)}))}))}})))||a},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,i=n(1),r=n(2),s=n(39),c=n(35),o=Object(s.a)()(a=Object(i.a)((function e(){var t=this;Object(r.a)(this,e),this.routeUpdateCallbacks=new c.a,this.updateRoute=function(e){console.debug("Route changed via call to navigate: "+e),t.routeUpdateCallbacks.invoke(e)}})))||a},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1),i=n(2),r=Object(a.a)((function e(){var t=this;Object(i.a)(this,e),this.listeners=new Map,this.add=function(e,n){t.listeners.set(e,n)},this.remove=function(e){t.listeners.delete(e)},this.invoke=function(e){t.listeners.forEach((function(t){t(e)}))}}))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,i,r,s,c,o=n(11),l=n(1),u=n(2),h=n(12),d=(n(24),n(39)),b=n(45),j=n(15),p=n(31),m=j.a.App.hosts.api+"/api/product/search-ecommerce",O=j.a.App.hosts.api+"/api/product/search-ecommerce-detail",f=(a=Object(d.a)(),i=Object(b.a)(p.a),a((s=Object(l.a)((function e(){var t=this;Object(u.a)(this,e),Object(o.a)(this,"rest",c,this),this.search=function(e,n){var a=m+"?key=".concat(e,"&startIndex=").concat(n);return t.rest.getCommon(a,{})},this.getDetail=function(e){var n=O+"?link=".concat(e.image.contextLink);return t.rest.getCommon(n,{})}})),c=Object(h.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,i=n(1),r=n(2),s=n(39),c=n(35),o=Object(s.a)()(a=Object(i.a)((function e(){Object(r.a)(this,e),this.onProductSearchKeyUpdate=new c.a})))||a},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(88),i=(n(48),n(32)),r=n(34),s=n(21),c=n(36),o=n(44),l=n(31),u=n(37),h=new a.a;h.bind(u.a).toSelf().inSingletonScope(),h.bind(l.a).toSelf().inSingletonScope(),h.bind(i.a).toSelf().inSingletonScope(),h.bind(s.a).toSelf().inSingletonScope(),h.bind(c.a).toSelf().inSingletonScope(),h.bind(o.a).toSelf().inSingletonScope(),h.bind(r.a).toSelf().inSingletonScope()},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,i,r,s,c,o=n(11),l=n(1),u=n(2),h=n(12),d=(n(24),n(39)),b=n(45),j=n(31),p=n(15).a.App.hosts.api+"/api/admin/",m=(a=Object(d.a)(),i=Object(b.a)(j.a),a((s=Object(l.a)((function e(){var t=this;Object(u.a)(this,e),Object(o.a)(this,"rest",c,this),this.list=function(e,n,a){var i="".concat(p).concat(e,"?page=").concat(n,"&perPage=").concat(a);return t.rest.getAuthorized(i)},this.get=function(e,n){var a="".concat(p).concat(e,"/").concat(n);return t.rest.getAuthorized(a)},this.post=function(e,n){var a="".concat(p).concat(e);return t.rest.postAuthorized(a,n)},this.put=function(e,n,a){var i="".concat(p).concat(e,"/").concat(n);return t.rest.putAuthorized(i,a)},this.delete=function(e,n){var a="".concat(p).concat(e,"/").concat(n);return t.rest.deleteAuthorized(a)}})),c=Object(h.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},59:function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))}},60:function(e,t,n){"use strict";var a=n(11),i=n(10),r=n(5),s=n(4),c=n(12),o=(n(24),n(1)),l=n(2),u=n(3),h=n.n(u),d=(n(67),n(13)),b=n(8),j=n(20),p=n(0),m=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",Object(j.a)(Object(j.a)({},this.props.attributes),{},{className:"container-fluid baseView",children:[this.props.title&&""!=this.props.title.trim()?Object(p.jsx)("h2",{style:{textAlign:this.props.titleAlign},children:this.props.title}):null,this.props.children]}))}}]),n}(u.Component),O=Object(o.a)((function e(){Object(l.a)(this,e),this.error=void 0,this.message=void 0,this.busy=!1})),f=n(43),g=n(34);function v(e){return function(t){var n=Object(b.h)(),a=Object(b.g)();return Object(p.jsx)(e,Object(j.a)({navigate:function(e){var t=f.a.get(g.a);a(e),t.updateRoute(e)},routeParams:n},t))}}var x,y,w,N,C,S,k,I,A,P,D,R,U,T,E,F,L,z,M,W,B,_,K,q,H,G,Y,V,J,Q,X,Z,$,ee=n(30),te=n(15),ne=n(32),ae=n(21),ie=(x=Object(d.resolve)(ae.a),y=Object(d.resolve)(ne.a),w=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2?arguments[2]:void 0;return Object(l.a)(this,n),(r=t.call(this,e)).authorized=s,r.title=void 0,Object(a.a)(r,"authService",N,Object(i.a)(r)),Object(a.a)(r,"dialog",C,Object(i.a)(r)),r.initialize=function(){document.title=r.title?r.title:te.a.App.uiSetting.defaultTitle},r.navigate=function(e){r.props.navigate?r.props.navigate(e):console.error("props.navigate does not exist")},r.gotoHomePage=function(){r.navigate("/")},r.invalidSession=function(){return Object(p.jsx)(m,{title:"Invalid Session",children:Object(p.jsx)("p",{children:"You must log in to access this page"})})},r.title=c,r.initialize(),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){!this.authorized||this.authService.loggedIn||this.navigate("/")}}]),n}(ee.a),N=Object(c.a)(w.prototype,"authService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Object(c.a)(w.prototype,"dialog",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w),re=n(18),se=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return void 0!=this.props.show&&!1===this.props.show?null:this.props.to?Object(p.jsxs)(re.b,{to:this.props.to,className:this.props.className,onClick:this.props.onClick,children:[this.props.iconClass?Object(p.jsx)("i",{className:this.props.iconClass+" mr-3"}):null,this.props.children]}):Object(p.jsxs)("a",{className:this.props.className,onClick:this.props.onClick,children:[this.props.iconClass?Object(p.jsx)("i",{className:this.props.iconClass+" mr-3"}):null,this.props.children]})}}]),n}(u.Component),ce=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n)}(O),oe=v(function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e,!0,"Admin Area")).state=new ce,a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){var e;this.authService.loggedIn&&"Admin"===(null===(e=this.authService.loggedUser)||void 0===e?void 0:e.role)||(this.gotoHomePage(),console.log("not admin!"))}},{key:"render",value:function(){return Object(p.jsxs)(m,{title:"Admin Area",children:[Object(p.jsx)(se,{className:"btn btn-light mr-3",to:"/admin/users",iconClass:"fas fa-users",children:"User Management"}),Object(p.jsx)(se,{className:"btn btn-light mr-3",to:"/admin/products",iconClass:"fas fa-shopping-cart",children:"Product Management"})]})}}]),n}(ie)),le=n(44),ue=(S=Object(d.resolve)(le.a),k=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e,r,s){var c;return Object(l.a)(this,n),(c=t.call(this,e,!0,s)).name=r,Object(a.a)(c,"service",I,Object(i.a)(c)),c.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;c.service.list(c.name,e,t).then((function(e){c.setState({result:e})})).catch(console.error)},c.onFormSubmit=function(e){e.preventDefault();var t=c.state.item;t?void 0==t.id||t.id<=0?c.insert(t):c.update(t):c.dialog.showError("Submission Error","Undefined payload")},c.showForm=function(){return c.setState({showForm:!0})},c.hideForm=function(){return c.setState({item:c.defaultItem,showForm:!1})},c.edit=function(e){c.setState({item:e},c.showForm)},c.delete=function(e){c.dialog.showConfirmDanger("Delete Item","Are you sure to delete this item? ").then((function(t){t&&c.service.delete(c.name,e.id).then((function(e){c.dialog.showInfo("Delete Success","Item has been deleted"),c.loadCurrentPage()})).catch((function(e){c.dialog.showError("Delete Failed",e)}))}))},c.insert=function(e){c.dialog.showConfirm("Insert Item","Are you sure to add this item? ").then((function(t){t&&c.service.post(c.name,e).then((function(e){c.dialog.showInfo("Insert Success","New item has been inserted"),c.loadCurrentPage(),c.hideForm()})).catch((function(e){c.dialog.showError("Insert Failed",e)}))}))},c.update=function(e){c.dialog.showConfirm("Update Item","Are you sure to update this item? ").then((function(t){t&&c.service.put(c.name,e.id,e).then((function(e){c.dialog.showInfo("Update Success","Item has been updated"),c.loadCurrentPage(),c.hideForm()})).catch((function(e){c.dialog.showError("Update Failed",e)}))}))},c.loadCurrentPage=function(){c.load(c.state.result.page,c.state.result.perPage)},c.actionButton=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(p.jsxs)(u.Fragment,{children:[n&&Object(p.jsx)(se,{onClick:function(){return c.edit(e)},iconClass:"fas fa-edit",className:"btn btn-text clickable"}),t&&Object(p.jsx)(se,{onClick:function(){return c.delete(e)},className:"btn btn-text text-danger",iconClass:"fas fa-times"})]})},c}return Object(o.a)(n,[{key:"item",get:function(){return this.state.item}},{key:"componentDidMount",value:function(){this.load()}},{key:"startingNumber",get:function(){return 1+this.state.result.page*this.state.result.perPage}}]),n}(ie),I=Object(c.a)(k.prototype,"service",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k),he=ue,de=Object(o.a)((function e(){Object(l.a)(this,e),this.totalData=0,this.page=0,this.perPage=10,this.items=[]})),be=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).result=new de,e.item=void 0,e.showForm=!1,e}return Object(o.a)(n)}(O),je=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*a));return t},pe=new Intl.NumberFormat("en-US",{style:"currency",currency:"IDR"}),me=function(e){return pe.format(e)},Oe=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=fe(this.props.limit,this.props.totalData,this.props.activePage);if(0==t.length)return null;var n=t[t.length-1],a=this.props.activePage+1>=n?0:this.props.activePage+1,i=this.props.activePage-1<0?n-1:this.props.activePage-1;return Object(p.jsx)("div",{children:Object(p.jsx)("nav",{"aria-label":"Page navigation example",children:Object(p.jsxs)("ul",{className:"pagination",children:[Object(p.jsx)("li",{className:"page-item",children:Object(p.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(i)},children:"Previous"})}),t.map((function(t,n){return Object(p.jsx)("li",{className:"page-item "+(t-1==e.props.activePage?"active":""),children:Object(p.jsx)("a",{className:"page-link clickable",onClick:function(n){return e.props.onClick(t-1)},children:t})},"NAV-"+je(10))})),Object(p.jsx)("li",{className:"page-item",children:Object(p.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(a)},children:"Next"})})]})})})}}]),n}(u.Component),fe=function(e,t,n){var a=[],i=Math.ceil(t/e),r=n-1,s=n+3;i>1&&a.push(1);for(var c=r;c<=s;c++)c>1&&c<=i&&a.push(c);return s<i&&a.push(i),a},ge=Object(o.a)((function e(){Object(l.a)(this,e),this.id=void 0})),ve=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name=void 0,e.image=void 0,e.description=void 0,e.price=void 0,e}return Object(o.a)(n)}(ge),xe=function(e){return!1===e.show?null:Object(p.jsx)("div",{className:"alert alert-danger",children:e.children})},ye=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n)}(be),we=v(function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e,"products","Product Management")).state=new ye,a.state.item=new ve,a}return Object(o.a)(n,[{key:"defaultItem",get:function(){return new ve}},{key:"render",value:function(){var e,t,n,a,i=this;if(this.state.showForm)return Object(p.jsxs)(m,{title:this.title,children:[Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)(se,{onClick:this.hideForm,className:"btn btn-light",children:"Close Form"})}),Object(p.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(p.jsx)("p",{children:"Name"}),Object(p.jsx)("input",{className:"form-control form-control-sm",value:null===(e=this.item)||void 0===e?void 0:e.name,onChange:this.handleInputChange,name:"item.name",required:!0}),Object(p.jsx)("p",{children:"Price"}),Object(p.jsx)("input",{type:"number",className:"form-control form-control-sm",value:null===(t=this.item)||void 0===t?void 0:t.price,onChange:this.handleInputChange,name:"item.price",required:!0}),Object(p.jsx)("p",{children:"Desc"}),Object(p.jsx)("textarea",{className:"form-control form-control-sm",value:null===(n=this.item)||void 0===n?void 0:n.description,onChange:this.handleInputChange,name:"item.description",required:!0}),Object(p.jsx)("p",{children:"Image Link"}),Object(p.jsx)("input",{className:"form-control form-control-sm",value:null===(a=this.item)||void 0===a?void 0:a.image,onChange:this.handleInputChange,name:"item.image",required:!0}),Object(p.jsx)("p",{}),Object(p.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Submit"})]})]});var r=this.state.result,s=r.items;return Object(p.jsxs)(m,{title:this.title,children:[Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsx)(se,{onClick:this.showForm,iconClass:"fas fa-plus",className:"btn btn-light",children:"Add Record"})}),void 0==s?Object(p.jsx)("i",{children:"Loading..."}):0==s.length?Object(p.jsx)(xe,{children:"No items"}):Object(p.jsxs)("div",{className:"mt-5 pl-3 pr-3",children:[Object(p.jsx)(Oe,{limit:r.perPage,totalData:r.totalData,activePage:r.page,onClick:this.load}),Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"No"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Description"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Image"}),Object(p.jsx)("th",{children:"Action"})]})}),Object(p.jsx)("tbody",{children:s.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:i.startingNumber+t}),Object(p.jsx)("td",{children:e.name}),Object(p.jsx)("td",{children:e.description}),Object(p.jsx)("td",{children:me(e.price)}),Object(p.jsxs)("td",{children:[Object(p.jsx)("img",{className:"border",alt:e.image,src:e.image,width:50,height:50}),Object(p.jsx)("br",{}),Object(p.jsx)("a",{target:"_blank",href:e.image,children:"view"})]}),Object(p.jsx)("td",{children:i.actionButton(e)})]},"product-"+e.id)}))})]})]})]})}}]),n}(he)),Ne=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).name=void 0,e.displayName=void 0,e.role=void 0,e.phoneNumber=void 0,e.email=void 0,e}return Object(o.a)(n)}(ge),Ce=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n)}(be),Se=v(function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e,"users","User Management")).state=new Ce,a}return Object(o.a)(n,[{key:"defaultItem",get:function(){return new Ne}},{key:"render",value:function(){var e=this,t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(p.jsx)(m,{title:this.title,children:void 0==t||void 0==n?Object(p.jsx)("i",{children:"Loading..."}):Object(p.jsxs)("div",{className:"mt-5 pl-3 pr-3",children:[Object(p.jsx)(Oe,{limit:t.perPage,totalData:t.totalData,activePage:t.page,onClick:this.load}),Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"No"}),Object(p.jsx)("th",{children:"Email"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Display Name"}),Object(p.jsx)("th",{children:"Phone"}),Object(p.jsx)("th",{children:"Action"})]})}),Object(p.jsx)("tbody",{children:n.map((function(t,n){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.startingNumber+n}),Object(p.jsx)("td",{children:t.email}),Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:t.displayName}),Object(p.jsx)("td",{children:t.phoneNumber}),Object(p.jsx)("td",{children:e.actionButton(t,!0,!1)})]},"user-"+t.id)}))})]})]})})}}]),n}(he)),ke=function(e){return!1===e.show?null:Object(p.jsx)("div",{className:"alert alert-info",children:e.children})},Ie=n(19),Ae=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){if(void 0!=this.props.show&&!1===this.props.show)return null;var e=this.props.children?" mr-3 ":"";return Object(p.jsxs)("button",{className:this.props.className,onClick:this.props.onClick,children:[this.props.iconClass?Object(p.jsx)("i",{className:this.props.iconClass+e}):null,this.props.children]})}}]),n}(u.Component),Pe=function(e){return Object(p.jsx)("table",{className:e.className,children:Object(p.jsx)("tbody",{children:e.content.map((function(e){var t="row-"+je(5);return Object(p.jsx)("tr",{children:e.map((function(e,n){return Object(p.jsx)("td",{children:e},t+"-"+n)}))},t)}))})})},De=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).email="",e.password="",e.loading=!1,e.loginSuccess=!1,e}return Object(o.a)(n)}(O),Re=v(function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e,!1,"Login")).state=new De,a.onSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),a.authService.login(a.state.email,a.state.password).then((function(e){a.setState({error:void 0,loginSuccess:!0},(function(){return Object(Ie.a)(a.gotoHomePage,500)}))})).catch((function(e){a.setState({error:new Error(null===e||void 0===e?void 0:e.message)})})).finally((function(){a.setState({loading:!1})}))},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedIn&&this.navigate("/")}},{key:"render",value:function(){var e;return this.state.loginSuccess?Object(p.jsx)(m,{children:Object(p.jsx)("div",{className:"pt-5 pb-5 pl-5 pr-5 text-center",children:Object(p.jsx)(ke,{children:"Login Succes"})})}):Object(p.jsx)(m,{children:Object(p.jsxs)("form",{onSubmit:this.onSubmit,className:"row mt-3 ",children:[Object(p.jsx)("div",{className:"col-md-4"}),Object(p.jsxs)("div",{className:"col-md-4 bg-light",style:{padding:20},children:[Object(p.jsx)(xe,{show:void 0!=this.state.error,children:null===(e=this.state.error)||void 0===e?void 0:e.message}),Object(p.jsx)(Pe,{className:"table table-borderless",content:[["Email",Object(p.jsx)("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,className:"form-control",required:!0})],["Password",Object(p.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0})]]}),this.state.loading?Object(p.jsx)("i",{children:"Please wait..."}):Object(p.jsx)(Ae,{className:"btn btn-success mt-3",children:"Login"}),Object(p.jsxs)("p",{className:"mt-3",children:["Don't have account? ",Object(p.jsx)(re.b,{to:"/register",children:"Create account"})]})]})]})})}}]),n}(ie)),Ue=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).email="",e.password="",e.passwordRepeat="",e.displayName="",e.name="",e.phone="",e.loading=!1,e.success=!1,e}return Object(o.a)(n)}(O),Te=v(function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e,!1,"Register")).state=new Ue,a.onSubmit=function(e){e.preventDefault(),a.state.password===a.state.passwordRepeat?(a.setState({loading:!0}),a.authService.register(a.state.email,a.state.name,a.state.displayName,a.state.password,a.state.phone).then((function(e){a.setState({error:void 0,success:!0})})).catch((function(e){a.setState({error:new Error(null===e||void 0===e?void 0:e.message)})})).finally((function(){a.setState({loading:!1})}))):a.setState({error:new Error("Password mismatch")})},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedIn&&this.navigate("/")}},{key:"render",value:function(){var e;return this.state.success?Object(p.jsx)(m,{children:Object(p.jsx)("div",{className:"pt-5 pb-5 pl-5 pr-5 text-center",children:Object(p.jsxs)(ke,{children:["Register Success. Click ",Object(p.jsx)(re.b,{to:"/login",children:"here"})," to login"]})})}):Object(p.jsx)(m,{children:Object(p.jsxs)("form",{onSubmit:this.onSubmit,className:"row mt-3",children:[Object(p.jsx)("div",{className:"col-md-4"}),Object(p.jsxs)("div",{className:"col-md-4 bg-light",style:{padding:20},children:[Object(p.jsx)(xe,{show:void 0!=this.state.error,children:null===(e=this.state.error)||void 0===e?void 0:e.message}),Object(p.jsx)(Pe,{className:"table table-borderless",content:[["Email",Object(p.jsx)("input",{type:"email",name:"email",id:"email",value:this.state.email,onChange:this.handleInputChange,className:"form-control",required:!0})],["Username",Object(p.jsx)("input",{name:"name",id:"name",value:this.state.name,onChange:this.handleInputChange,className:"form-control",required:!0})],["Display Name",Object(p.jsx)("input",{name:"displayName",id:"displayName",value:this.state.displayName,onChange:this.handleInputChange,className:"form-control",required:!0})],["Phone Number",Object(p.jsx)("input",{type:"tel",name:"phone",id:"phone",value:this.state.phone,onChange:this.handleInputChange,className:"form-control",required:!0})],["Password",Object(p.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0})],["Repeat Password",Object(p.jsx)("input",{type:"password",name:"passwordRepeat",id:"passwordRepeat",value:this.state.passwordRepeat,onChange:this.handleInputChange,className:"form-control",required:!0})]]}),this.state.loading?Object(p.jsx)("i",{children:"Please wait..."}):Object(p.jsx)(Ae,{className:"btn btn-success mt-3",children:"Register"}),Object(p.jsxs)("p",{className:"mt-3",children:["Already have account? ",Object(p.jsx)(re.b,{to:"/login",children:"Login"})]})]})]})})}}]),n}(ie)),Ee=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e,!1,"Error")}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(m,{title:"Oops !",children:Object(p.jsx)("div",{className:"alert alert-danger mt-3",children:Object(p.jsx)("p",{children:this.props.message})})})}}]),n}(ie),Fe=(n(86),function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showTitle=!1,e.welcomingWords=[],e}return Object(o.a)(n)}(O)),Le=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=new Fe,a.welcomingWord=void 0,a.startDisplayWelcomingWord=function(){a.state.welcomingWords.join("")!=a.welcomingWord&&Object(Ie.a)((function(){var e=a.state.welcomingWords;e.push(a.welcomingWord[a.welcomingWord.length-(a.welcomingWord.length-e.length)]),a.setState({welcomingWords:e},a.startDisplayWelcomingWord)}),200)},a.welcomingWord=te.a.App.uiSetting.defaultTitle,a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.startDisplayWelcomingWord()}},{key:"render",value:function(){return Object(p.jsx)(m,{attributes:{style:{textAlign:"center",paddingTop:"30vh"}},children:Object(p.jsx)(ze,{word:this.state.welcomingWords.join("")})})}}]),n}(ie),ze=function(e){return Object(p.jsx)("div",{style:{fontSize:"3em",fontWeight:"bold"},className:"text-primary text-center",children:e.word})},Me=v(Le),We=n(36),Be=n(37),_e=Object(o.a)((function e(){Object(l.a)(this,e),this.loggedIn=!1,this.orderCount=0,this.phoneNumber="",this.note="",this.address="",this.productSpec=void 0})),Ke=(A=Object(d.resolve)(ae.a),P=Object(d.resolve)(We.a),D=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state=new _e,Object(a.a)(r,"authService",R,Object(i.a)(r)),Object(a.a)(r,"productService",U,Object(i.a)(r)),r.loadDetail=function(){r.productService.getDetail(r.props.item).then((function(e){return r.setState({productSpec:e})})).catch(console.error)},r.onSubmit=function(e){e.preventDefault()},console.log("Props: ",e),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e,t;this.setState({loggedIn:this.authService.loggedIn,phoneNumber:null!==(e=null===(t=this.authService.loggedUser)||void 0===t?void 0:t.phoneNumber)&&void 0!==e?e:""}),this.authService.loggedIn&&this.loadDetail()}},{key:"render",value:function(){var e;if(!this.state.loggedIn)return Object(p.jsx)(xe,{children:"Please log in to order this product"});var t=this.state.productSpec;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h3",{className:"text-center",children:["Order Product From ",Object(p.jsx)("small",{children:null===(e=this.props.item)||void 0===e?void 0:e.displayLink})]}),Object(p.jsxs)("div",{className:"row w-100 mt-5",children:[Object(p.jsxs)("div",{className:"col-md-3",children:[Object(p.jsx)("img",{className:"image",width:200,src:this.props.item.link}),Object(p.jsx)("p",{})]}),Object(p.jsx)("div",{className:"col-md-4",children:t?Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{style:{margin:0},children:"Name"}),Object(p.jsx)("b",{children:t.name}),Object(p.jsx)("p",{style:{margin:0},children:"Price"}),Object(p.jsx)("b",{children:me(t.price)})]}):Object(p.jsx)("i",{children:"Loading detail..."})}),Object(p.jsx)("div",{className:"col-md-5",children:Object(p.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(p.jsx)("p",{children:"Order Count"}),Object(p.jsx)("input",{type:"number",name:"orderCount",value:this.state.orderCount,onChange:this.handleInputChange,className:"form-control mb-2",min:1,required:!0}),Object(p.jsx)("p",{children:"Phone Number"}),Object(p.jsx)("input",{name:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleInputChange,className:"form-control mb-2",required:!0}),Object(p.jsx)("p",{children:"Address"}),Object(p.jsx)("textarea",{name:"address",value:this.state.address,onChange:this.handleInputChange,className:"form-control mb-2",required:!0}),Object(p.jsx)("p",{children:"Note"}),Object(p.jsx)("textarea",{name:"note",value:this.state.note,onChange:this.handleInputChange,className:"form-control mb-2"}),Object(p.jsx)("input",{type:"submit",className:"btn btn-success mt-2",value:"Submit"})]})})]})]})}}]),n}(ee.a),R=Object(c.a)(D.prototype,"authService",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=Object(c.a)(D.prototype,"productService",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D),qe=(n(87),function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).searchResult=void 0,e.searchKey=void 0,e.loading=!1,e}return Object(o.a)(n)}(O)),He=(T=Object(d.resolve)(We.a),E=Object(d.resolve)(Be.a),F=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e,!1,"Search")).state=new qe,Object(a.a)(r,"productService",L,Object(i.a)(r)),Object(a.a)(r,"evtService",z,Object(i.a)(r)),r.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r.setState({loading:!0,searchKey:e}),r.productService.search(e,t).then((function(e){r.setState({searchResult:e})})).catch(console.error).finally((function(){r.setState({loading:!1})}))},r.gotoIndex=function(e){r.state.searchKey&&r.search(r.state.searchKey,e)},r.order=function(e){r.dialog.showContent("Order Item",Object(p.jsx)(Ke,{item:e}))},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.evtService.onProductSearchKeyUpdate.add("searchpage",this.search),this.props.routeParams&&this.props.routeParams.searchKey&&this.search(this.props.routeParams.searchKey)}},{key:"componentWillUnmount",value:function(){this.evtService.onProductSearchKeyUpdate.remove("searchpage")}},{key:"render",value:function(){return this.state.searchKey?Object(p.jsx)(m,{children:Object(p.jsx)("div",{className:"row w-100 mb-5 ",children:this.state.loading?Object(p.jsx)("div",{className:"col-12 text-center",children:Object(p.jsx)("i",{children:"Loading..."})}):void 0==this.state.searchResult||0==this.state.searchResult.items.length?Object(p.jsx)(xe,{children:"No Result"}):Object(p.jsx)(Ye,{gotoIndex:this.gotoIndex,searchKey:this.state.searchKey,result:this.state.searchResult,order:this.order})})}):Object(p.jsx)(m,{children:Object(p.jsx)("p",{children:"Please provide search key"})})}}]),n}(ie),L=Object(c.a)(F.prototype,"productService",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(c.a)(F.prototype,"evtService",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F),Ge=v(He),Ye=function(e){var t=e.result.queries.nextPage,n=e.result.queries.request;return Object(p.jsxs)(u.Fragment,{children:[Object(p.jsx)("div",{className:"col-md-6 bg-light my-2",children:Object(p.jsxs)("h4",{children:["Search Result: ",Object(p.jsxs)("b",{children:['"',e.searchKey,'"']})," "]})}),Object(p.jsx)("div",{className:"col-md-6 bg-light my-2 product-pagination-button",children:Object(p.jsxs)("nav",{children:[n&&n.length>0&&n[0].startIndex>1&&Object(p.jsx)("a",{className:"btn btn-outline-primary btn-sm mr-2",onClick:function(){return e.gotoIndex(n[0].startIndex-n[0].count)},children:"Prev"}),t&&t.length>0&&Object(p.jsx)("a",{className:"btn btn-outline-primary btn-sm",onClick:function(){return e.gotoIndex(t[0].startIndex)},children:"Next"})]})}),e.result.items.map((function(t){return Object(p.jsx)("div",{className:"col-md-2 mt-2",children:Object(p.jsxs)("div",{className:"border border-gray pt-1 pb-1 pl-1 pr-1",children:[Object(p.jsx)("div",{className:"product-item-image",style:{backgroundImage:"url(".concat(t.image.thumbnailLink,")")}}),Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("a",{target:"_blank",href:t.image.contextLink,className:"badge bg-light",children:t.displayLink}),Object(p.jsx)("label",{className:"text-left",dangerouslySetInnerHTML:{__html:t.htmlTitle}}),Object(p.jsx)(se,{iconClass:"fas fa-shopping-cart",className:"btn btn-success btn-sm",onClick:function(){return e.order(t)},children:"Order"})]})]})},"search_result_"+t.link)}))]})},Ve=(M=Object(d.resolve)(ae.a),W=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),Object(a.a)(e,"authService",B,Object(i.a)(e)),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(u.Fragment,{children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{path:"/",element:Object(p.jsx)(Me,{})}),Object(p.jsx)(b.b,{path:"/home",element:Object(p.jsx)(Me,{})}),Object(p.jsx)(b.b,{path:"/login",element:Object(p.jsx)(Re,{})}),Object(p.jsx)(b.b,{path:"/register",element:Object(p.jsx)(Te,{})}),Object(p.jsx)(b.b,{path:"/search/:searchKey",element:Object(p.jsx)(Ge,{})}),Object(p.jsx)(b.b,{path:"/admin",element:this.authService.isAdmin?Object(p.jsx)(oe,{}):Object(p.jsx)(b.a,{to:"/"})}),Object(p.jsx)(b.b,{path:"/admin/users",element:this.authService.isAdmin?Object(p.jsx)(Se,{}):Object(p.jsx)(b.a,{to:"/"})}),Object(p.jsx)(b.b,{path:"/admin/products",element:this.authService.isAdmin?Object(p.jsx)(we,{}):Object(p.jsx)(b.a,{to:"/"})}),Object(p.jsx)(b.b,{path:"*",element:Object(p.jsx)(Ee,{message:"The requested page is not found."})})]})})}}]),n}(u.Component),B=Object(c.a)(W.prototype,"authService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),Je=Object(o.a)((function e(){Object(l.a)(this,e),this.showDropdown=!1})),Qe=(_=Object(d.resolve)(ae.a),K=Object(d.resolve)(ne.a),q=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=new Je,Object(a.a)(e,"authService",H,Object(i.a)(e)),Object(a.a)(e,"dialog",G,Object(i.a)(e)),e.logout=function(){e.dialog.showConfirmDanger("Logout","Do you want to logout?").then((function(t){t&&e.authService.logout()}))},e.toggleDropdown=function(){e.setState({showDropdown:!e.state.showDropdown})},e.onMenuClick=function(t){e.props.navigate&&(e.props.navigate(t),e.setState({showDropdown:!1}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("a",{className:"btn btn-light",onClick:this.toggleDropdown,children:[Object(p.jsx)("i",{className:"fas fa-user mr-3"})," ",this.props.user.displayName]}),Object(p.jsx)("div",{style:{position:"absolute"},children:this.state.showDropdown?Object(p.jsxs)("div",{style:{width:"200px",zIndex:1,position:"relative"},className:"bg-light border border-gray rounded text-left pt-3 pb-3",children:["Admin"==this.props.user.role?Object(p.jsxs)("a",{className:"btn btn-text text-success",onClick:function(){return e.onMenuClick("/admin")},children:[Object(p.jsx)("i",{className:"fas fa-tachometer-alt mr-3"}),"Admin Area"]}):null,Object(p.jsxs)("a",{className:"btn btn-text text-info",onClick:function(){return e.onMenuClick("/myorder")},children:[Object(p.jsx)("i",{className:"fas fa-shopping-cart mr-3"}),"My Orders"]}),Object(p.jsxs)("a",{className:"btn btn-text text-danger",onClick:this.logout,children:[Object(p.jsx)("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]}):null})]})}}]),n}(u.Component),H=Object(c.a)(q.prototype,"authService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=Object(c.a)(q.prototype,"dialog",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q),Xe=v(Qe),Ze=Object(o.a)((function e(){Object(l.a)(this,e),this.activeMenu=void 0,this.title=te.a.App.uiSetting.defaultTitle,this.searchKey=""})),$e=(Y=Object(d.resolve)(ae.a),V=Object(d.resolve)(g.a),J=Object(d.resolve)(Be.a),Q=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),Object(a.a)(e,"authService",X,Object(i.a)(e)),Object(a.a)(e,"routingService",Z,Object(i.a)(e)),Object(a.a)(e,"evtService",$,Object(i.a)(e)),e.state=new Ze,e._user=void 0,e.gotoLoginPage=function(){e.props.navigate&&e.props.navigate("/login")},e.onUserUpdated=function(t){void 0!=e._user&&void 0==t&&e.gotoLoginPage(),e._user=t,e.forceUpdate()},e.navigate=function(t){void 0!=e.props.navigate?e.props.navigate(t):console.warn("no props: navigate")},e.brandOnClick=function(){e.navigate("/")},e.onFormSearchSubmit=function(t){t.preventDefault(),(e.state.searchKey||""!=e.state.searchKey.trim())&&(e.navigate("/search/"+e.state.searchKey),e.evtService.onProductSearchKeyUpdate.invoke(e.state.searchKey))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.routingService.routeUpdateCallbacks.add("header",console.log),this.authService.onUserUpdated.add("header",this.onUserUpdated)}},{key:"componentWillUnmount",value:function(){this.authService.onUserUpdated.remove("header")}},{key:"render",value:function(){return Object(p.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(p.jsx)("div",{className:"container-fluid",children:Object(p.jsxs)("div",{className:"row w-100 mt-2",children:[Object(p.jsx)("div",{className:"col-md-2 mb-2 text-center",children:Object(p.jsx)(re.b,{className:"navbar-brand",to:"/",children:this.state.title})}),Object(p.jsx)("div",{className:"col-md-8 mb-2",children:Object(p.jsx)("form",{onSubmit:this.onFormSearchSubmit,children:Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("input",{value:this.state.searchKey,className:"form-control",name:"searchKey",onChange:this.handleInputChange,placeholder:"Search Products"}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(p.jsx)("i",{className:"fas fa-search mr-2"})," Search"]})})]})})}),Object(p.jsx)("div",{className:"col-md-2 mb-2 text-center",children:this.authService.loggedIn?Object(p.jsx)(Xe,{user:this.authService.loggedUser}):Object(p.jsxs)(re.b,{to:"/login",className:"btn btn-primary",children:[Object(p.jsx)("i",{className:"fas fa-sign-in-alt mr-2"})," Login"]})})]})})})}}]),n}(ee.a),X=Object(c.a)(Q.prototype,"authService",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Object(c.a)(Q.prototype,"routingService",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=Object(c.a)(Q.prototype,"evtService",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q),et=v($e),tt=n(16),nt="-560px",at="250ms",it=Object(o.a)((function e(){Object(l.a)(this,e),this.backColor="transparent",this.marginTop=nt}));function rt(e){var t={transitionDuration:at,backgroundColor:e.bgColor};return Object(p.jsx)("div",{className:"modal-backdrop",style:t})}function st(e){return Object(p.jsxs)("div",{className:"modal-footer",children:[Object(p.jsx)("button",{ref:e.yesButton,type:"button",onClick:e.onConfirm,className:"btn btn-outline-primary",children:e.yesLabel}),e.yesOnly?null:Object(p.jsx)("button",{ref:e.cancelButton,type:"button",onClick:e.onCancel,className:"btn btn-outline-secondary",children:"No"})]})}function ct(e){return Object(p.jsxs)("div",{className:"modal-header "+e.className,children:[Object(p.jsx)("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:e.title}),Object(p.jsx)("button",{onClick:e.onClose,type:"button",className:"close",children:Object(p.jsx)("span",{children:Object(p.jsx)("i",{className:"fas fa-times"})})})]})}var ot,lt,ut,ht,dt,bt,jt=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).yesButton=h.a.createRef(),a.cancelButton=h.a.createRef(),a.state=new it,a.onConfirm=function(e){a.close((function(){a.props.onConfirm(e)}))},a.close=function(e){Object(Ie.a)((function(){a.setState({backColor:"transparent",marginTop:nt},(function(){Object(Ie.a)(e,100)}))}),100)},a.onCancel=function(e){a.close((function(){a.props.onCancel&&a.props.onCancel(e)}))},a.onClose=function(e){a.close((function(){a.props.onClose(e)}))},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.type==tt.a.ERROR||this.props.type==tt.a.WARNING;!t&&this.yesButton.current?this.yesButton.current.focus():t&&this.cancelButton.current?this.cancelButton.current.focus():t&&this.yesButton.current&&this.yesButton.current.focus(),Object(Ie.a)((function(){var t=e.stringContent?"30vh":"0vh";e.setState({backColor:"rgba(100,100,100,0.7)",marginTop:t})}),100)}},{key:"stringContent",get:function(){return"string"==typeof this.props.children}},{key:"headerClassName",get:function(){switch(this.props.type){case tt.a.INFO:case tt.a.INFO_NO_BUTTONS:return"bg-info text-light";case tt.a.WARNING:return"bg-warning text-dark";case tt.a.ERROR:return"bg-danger text-light";default:return"bg-secondary"}}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=1==this.props.yesOnly,n=this.stringContent?"500px":"85vw",a={transitionDuration:at,marginTop:this.state.marginTop,maxWidth:n,marginLeft:"auto",marginRight:"auto"},i=this.stringContent?"modal-dialog -modal-dialog-centered":"-modal-dialog-centered";return Object(p.jsxs)(u.Fragment,{children:[Object(p.jsx)(rt,{bgColor:this.state.backColor}),Object(p.jsx)("div",{className:"modal show",style:{display:"block"},children:Object(p.jsx)("div",{className:i,style:a,children:Object(p.jsxs)("div",{className:"modal-content",style:{marginTop:"5px"},children:[Object(p.jsx)(ct,{className:this.headerClassName,title:e,onClose:this.onClose}),Object(p.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflow:"auto"},children:this.props.children}),this.props.type==tt.a.INFO_NO_BUTTONS?Object(p.jsx)("div",{className:"modal-footer ",children:Object(p.jsx)("h6",{className:"w-100 text-center",children:te.a.App.uiSetting.defaultTitle})}):Object(p.jsx)(st,{cancelButton:this.cancelButton,yesLabel:this.props.yesLabel,yesButton:this.yesButton,yesOnly:t,onConfirm:this.onConfirm,onCancel:this.onCancel})]})})})]})}}]),n}(u.Component),pt=n(29);pt.b.register(pt.a,pt.e,pt.f,pt.d,pt.g,pt.h,pt.c);var mt=Object(o.a)((function e(){Object(l.a)(this,e),this.loaded=!1,this.loadingError=!1})),Ot=(ot=Object(d.resolve)(ae.a),lt=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),Object(a.a)(e,"authService",ut,Object(i.a)(e)),e.state=new mt,e.load=function(){e.setState({loadingError:!1}),e.authService.loadApplication().then((function(){e.setState({loaded:!0})})).catch((function(){e.setState({loadingError:!0})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Object(Ie.a)(this.load,100)}},{key:"render",value:function(){return 1==this.state.loadingError?Object(p.jsxs)("div",{className:"w-100 text-center",children:[Object(p.jsx)("h3",{className:"mt-5 text-danger",children:"Error while loading content"}),Object(p.jsxs)("a",{className:"btn btn-outline-dark btn-sm",onClick:this.load,children:[Object(p.jsx)("i",{className:"fas fa-redo mr-3"}),"Reload"]})]}):0==this.state.loaded?Object(p.jsx)("h3",{className:"mt-5 text-center text-secondary",children:"Loading content"}):Object(p.jsxs)(u.Fragment,{children:[Object(p.jsx)(gt,{}),Object(p.jsx)(Ve,{})]})}}]),n}(u.Component),ut=Object(c.a)(lt.prototype,"authService",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt),ft=Object(o.a)((function e(){Object(l.a)(this,e),this.show=!1})),gt=(ht=Object(d.resolve)(ne.a),dt=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state=new ft,r.dialogTitle=void 0,r.dialogContent=void 0,r.dialogYesOnly=void 0,r.yesLabel="Yes",r.dialogOnConfirm=void 0,r.dialogOnCancel=void 0,r.onCloseCallback=void 0,r.dialogType=tt.a.INFO,Object(a.a)(r,"dialogService",bt,Object(i.a)(r)),r.ref=h.a.createRef(),r.dismissAlert=function(){r.ref.current?r.ref.current.close((function(){r.setState({show:!1})})):r.setState({show:!1})},r.dialogOnClose=function(e){r.setState({show:!1},(function(){r.onCloseCallback&&r.onCloseCallback(e),r.resetProps()}))},r.resetProps=function(){r.onCloseCallback=void 0,r.yesLabel="Yes"},r.showNoButtons=function(e,t,n){r.dialogType=tt.a.INFO_NO_BUTTONS,r.dialogTitle=e,r.dialogContent=t,r.display()},r.show=function(e,t,n,a,i,s,c){r.dialogType=e,r.dialogTitle=t,r.dialogContent=n,r.dialogYesOnly=a,r.yesLabel=c||r.yesLabel,r.dialogOnConfirm=function(e){r.dismissAlert(),i(e)},r.onCloseCallback=s,a||(r.dialogOnCancel=function(e){r.dismissAlert(),s&&s(e)}),r.display()},r}return Object(o.a)(n,[{key:"setContent",value:function(e){this.dialogContent=e,this.forceUpdate()}},{key:"componentDidMount",value:function(){this.dialogService.setContainer(this)}},{key:"isShown",get:function(){return this.state.show}},{key:"display",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return this.state.show?Object(p.jsx)(jt,{ref:this.ref,title:this.dialogTitle,yesOnly:this.dialogYesOnly,onConfirm:this.dialogOnConfirm,onCancel:this.dialogOnCancel,onClose:this.dialogOnClose,type:this.dialogType,yesLabel:this.yesLabel,children:this.dialogContent}):null}}]),n}(u.Component),bt=Object(c.a)(dt.prototype,"dialogService",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt);t.a=function(){var e=Object(b.f)();return Object(p.jsxs)(u.Fragment,{children:[Object(p.jsx)(et,{currentLocation:e}),Object(p.jsx)(Ot,{})]})}},61:function(e,t,n){"use strict";n.r(t),function(e){var t=n(3),a=n.n(t),i=n(58),r=n.n(i),s=(n(66),n(60)),c=n(59),o=n(18),l=n(13),u=n(43),h=n(0);e.self.MonacoEnvironment={getWorkerUrl:function(e,t){return console.log("get worker function: ",e,t),"json"===t?"./editorworkers/json.worker.bundle.js":"css"===t||"scss"===t||"less"===t?"./editorworkers/css.worker.bundle.js":"html"===t||"handlebars"===t||"razor"===t?"./editorworkers/html.worker.bundle.js":"typescript"===t||"javascript"===t?"./editorworkers/ts.worker.bundle.js":"yaml"===t||"yml"===t?"./editorworkers/yaml.worker/js":"./editorworkers/editor.worker.bundle.js"}},r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(l.Provider,{container:u.a,children:Object(h.jsx)(o.a,{children:Object(h.jsx)(s.a,{})})})}),document.getElementById("root")),Object(c.a)()}.call(this,n(46))},66:function(e,t,n){},67:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.259b41e1.chunk.js.map